{"ast":null,"code":"import React,{useState,useEffect}from'react';import{BrowserRouter as Router,Routes,Route,useLocation}from'react-router-dom';import{useAuth}from'./context/AuthContext';import PrivateRoute from'./components/PrivateRoute/PrivateRoute';import Header from'./components/Header/Header';import Footer from'./components/Footer/Footer';import Authorization from'./pages/Authorization/Authorization';import Profile from'./pages/Profile/Profile';import LessonsPage from'./pages/LessonsPage/LessonsPage';import ShopPage from'./pages/ShopPage/ShopPage';import AboutMePage from'./pages/AboutMePage/AboutMePage';import GalleryPage from'./pages/GalleryPage/GalleryPage';import LandingPage from'./pages/LandingPage/LandingPage';import LessonPage from'./pages/LessonsPage/LessonPage/LessonPage';import MarenGarden from'./pages/MarenGarden/MarenGarden';import MarenGardenContent from'./pages/MarenGarden/MarenGardenContent/MarenGardenContent';import GalleryList from'./pages/GalleryPage/GalleriesList/GalleryList';import PromoPage from'./pages/MarenGarden/PromoPage/PromoPage';import ProductDetail from'./pages/ShopPage/ProductDetail/ProductDetail';import ChatButton from'./components/ChatButton/ChatButton';import PrivacyPolicy from'./components/PrivacyPolicy/PrivacyPolicy';import ChangePassword from'./components/ChangePassword/ChangePassword';import galleries from'./pages/GalleryPage/galleries';import marenGardenChapters from'./pages/MarenGarden/MarenGardenChapters';import'./styles/styles.scss';import CartButton from'./pages/ShopPage/CartButton/CartButton';import CartPage from'./pages/ShopPage/CartPage/CartPage';import ConspectPage from'./pages/MarenGarden/MarenGardenContent/ConspectPage/ConspectPage';import{CartProvider}from'./context/CartContext';import OfferAgreement from'./pages/ShopPage/OfferAgreement/OfferAgreement';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ScrollToTop=()=>{const{pathname}=useLocation();useEffect(()=>{window.scrollTo(0,0);},[pathname]);return null;};function App(){const{isLoggedIn,checkAuthStatus,user}=useAuth();const[userName,setUserName]=useState('');useEffect(()=>{checkAuthStatus();},[]);useEffect(()=>{if(!isLoggedIn){console.log('Пользователь не залогинен, обновите UI');}},[isLoggedIn]);return/*#__PURE__*/_jsxs(Router,{children:[/*#__PURE__*/_jsx(ScrollToTop,{}),/*#__PURE__*/_jsx(CartProvider,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"app-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"content\",children:[/*#__PURE__*/_jsx(Header,{isLoggedIn:isLoggedIn,userName:userName,setUserName:setUserName}),/*#__PURE__*/_jsx(CartButton,{}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(LandingPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/auth\",element:/*#__PURE__*/_jsx(Authorization,{})}),/*#__PURE__*/_jsx(Route,{path:\"/change-password\",element:/*#__PURE__*/_jsx(ChangePassword,{})}),/*#__PURE__*/_jsx(Route,{path:\"/profile\",element:isLoggedIn?/*#__PURE__*/_jsx(Profile,{}):/*#__PURE__*/_jsx(Authorization,{redirectBack:\"/profile\"})}),/*#__PURE__*/_jsx(Route,{path:\"/lessons\",element:/*#__PURE__*/_jsx(LessonsPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/lesson/:lessonId\",element:/*#__PURE__*/_jsx(LessonPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/about\",element:/*#__PURE__*/_jsx(AboutMePage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/promo\",element:/*#__PURE__*/_jsx(PromoPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/masterclass\",element:/*#__PURE__*/_jsx(PrivateRoute,{element:/*#__PURE__*/_jsx(MarenGarden,{marenGardenChapters:marenGardenChapters}),requiredGroup:\"VIP\"})}),/*#__PURE__*/_jsx(Route,{path:\"/masterclass/:chapterId\",element:/*#__PURE__*/_jsx(PrivateRoute,{element:/*#__PURE__*/_jsx(MarenGardenContent,{marenGardenChapters:marenGardenChapters}),requiredGroup:\"VIP\"})}),/*#__PURE__*/_jsx(Route,{path:\"/conspects\",element:/*#__PURE__*/_jsx(PrivateRoute,{element:/*#__PURE__*/_jsx(ConspectPage,{}),requiredGroup:\"VIP\"})}),/*#__PURE__*/_jsx(Route,{path:\"/shop\",element:/*#__PURE__*/_jsx(ShopPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/cart\",element:/*#__PURE__*/_jsx(CartPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/product/:productId\",element:/*#__PURE__*/_jsx(ProductDetail,{})}),/*#__PURE__*/_jsx(Route,{path:\"/gallery/:galleryId\",element:/*#__PURE__*/_jsx(GalleryPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/gallery\",element:/*#__PURE__*/_jsx(GalleryList,{galleries:galleries})}),/*#__PURE__*/_jsx(Route,{path:\"/privacy-policy\",element:/*#__PURE__*/_jsx(PrivacyPolicy,{})}),/*#__PURE__*/_jsx(Route,{path:\"/offer-agreement\",element:/*#__PURE__*/_jsx(OfferAgreement,{})})]}),/*#__PURE__*/_jsx(ChatButton,{})]}),/*#__PURE__*/_jsx(Footer,{})]})})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","BrowserRouter","Router","Routes","Route","useLocation","useAuth","PrivateRoute","Header","Footer","Authorization","Profile","LessonsPage","ShopPage","AboutMePage","GalleryPage","LandingPage","LessonPage","MarenGarden","MarenGardenContent","GalleryList","PromoPage","ProductDetail","ChatButton","PrivacyPolicy","ChangePassword","galleries","marenGardenChapters","CartButton","CartPage","ConspectPage","CartProvider","OfferAgreement","jsx","_jsx","jsxs","_jsxs","ScrollToTop","pathname","window","scrollTo","App","isLoggedIn","checkAuthStatus","user","userName","setUserName","console","log","children","className","path","element","redirectBack","requiredGroup"],"sources":["/home/kiipod/projects/slwrm/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { BrowserRouter as Router, Routes, Route, useLocation } from 'react-router-dom';\nimport { useAuth } from './context/AuthContext';\nimport PrivateRoute from './components/PrivateRoute/PrivateRoute';\n\nimport Header from './components/Header/Header';\nimport Footer from './components/Footer/Footer';\nimport Authorization from './pages/Authorization/Authorization';\nimport Profile from './pages/Profile/Profile';\nimport LessonsPage from './pages/LessonsPage/LessonsPage';\nimport ShopPage from './pages/ShopPage/ShopPage';\nimport AboutMePage from './pages/AboutMePage/AboutMePage';\nimport GalleryPage from './pages/GalleryPage/GalleryPage';\nimport LandingPage from './pages/LandingPage/LandingPage';\nimport LessonPage from './pages/LessonsPage/LessonPage/LessonPage';\nimport MarenGarden from './pages/MarenGarden/MarenGarden';\nimport MarenGardenContent from './pages/MarenGarden/MarenGardenContent/MarenGardenContent';\nimport GalleryList from './pages/GalleryPage/GalleriesList/GalleryList';\nimport PromoPage from './pages/MarenGarden/PromoPage/PromoPage';\nimport ProductDetail from './pages/ShopPage/ProductDetail/ProductDetail';\nimport ChatButton from './components/ChatButton/ChatButton';\nimport PrivacyPolicy from './components/PrivacyPolicy/PrivacyPolicy';\nimport ChangePassword from './components/ChangePassword/ChangePassword';\n\nimport galleries from './pages/GalleryPage/galleries';\nimport marenGardenChapters from './pages/MarenGarden/MarenGardenChapters';\nimport './styles/styles.scss';\nimport CartButton from './pages/ShopPage/CartButton/CartButton';\nimport CartPage from './pages/ShopPage/CartPage/CartPage';\nimport ConspectPage from './pages/MarenGarden/MarenGardenContent/ConspectPage/ConspectPage';\nimport { CartProvider } from './context/CartContext';\nimport OfferAgreement from './pages/ShopPage/OfferAgreement/OfferAgreement';\n\nconst ScrollToTop = () => {\n  const { pathname } = useLocation();\n\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  }, [pathname]);\n\n  return null;\n};\n\nfunction App() {\n  const { isLoggedIn, checkAuthStatus, user } = useAuth();\n  const [userName, setUserName] = useState('');\n\n  useEffect(() => {\n    checkAuthStatus();\n  }, []);\n\n  useEffect(() => {\n    if (!isLoggedIn) {\n      console.log('Пользователь не залогинен, обновите UI');\n    }\n  }, [isLoggedIn]);\n\n  return (\n    <Router>\n      <ScrollToTop />\n      <CartProvider>\n        <div className=\"app-container\">\n          <div className=\"content\">\n            <Header isLoggedIn={isLoggedIn} userName={userName} setUserName={setUserName} />\n            <CartButton />\n            <Routes>\n              <Route path=\"/\" element={<LandingPage />} />\n              <Route path=\"/auth\" element={<Authorization />} />\n              <Route path=\"/change-password\" element={<ChangePassword />} />\n              <Route path=\"/profile\" element={isLoggedIn ? <Profile /> : <Authorization redirectBack=\"/profile\" />} />\n              <Route path=\"/lessons\" element={<LessonsPage />} />\n              <Route path=\"/lesson/:lessonId\" element={<LessonPage />} />\n              <Route path=\"/about\" element={<AboutMePage />} />\n              <Route path=\"/promo\" element={<PromoPage />} />\n              <Route path=\"/masterclass\"\n                     element={<PrivateRoute element={<MarenGarden marenGardenChapters={marenGardenChapters} />}\n                                            requiredGroup=\"VIP\" />} />\n              <Route path=\"/masterclass/:chapterId\"\n                     element={<PrivateRoute element={<MarenGardenContent marenGardenChapters={marenGardenChapters} />}\n                                            requiredGroup=\"VIP\" />} />\n              <Route path=\"/conspects\" element={<PrivateRoute element={<ConspectPage />} requiredGroup=\"VIP\" />} />\n              <Route path=\"/shop\" element={<ShopPage />} />\n              <Route path=\"/cart\" element={<CartPage />} />\n              <Route path=\"/product/:productId\" element={<ProductDetail />} />\n              <Route path=\"/gallery/:galleryId\" element={<GalleryPage />} />\n              <Route path=\"/gallery\" element={<GalleryList galleries={galleries} />} />\n              <Route path=\"/privacy-policy\" element={<PrivacyPolicy />} />\n              <Route path=\"/offer-agreement\" element={<OfferAgreement />} />\n            </Routes>\n            <ChatButton />\n          </div>\n          <Footer />\n        </div>\n      </CartProvider>\n    </Router>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}